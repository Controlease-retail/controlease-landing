@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --color-obsidian: #141029;
  --color-obsidian-deep: #0a0814;
  --color-obsidian-light: #211b41;
  --color-glass: rgba(255, 255, 255, 0.03);
  --color-glass-border: rgba(255, 255, 255, 0.08);
  --color-glass-highlight: rgba(255, 255, 255, 0.15);
  --color-surface-muted: rgba(255, 255, 255, 0.04);
  --color-surface-elevated: rgba(255, 255, 255, 0.08);
  --color-border-strong: rgba(255, 255, 255, 0.16);
  --color-text-soft: rgba(237, 236, 239, 0.75);
  --color-panel: rgba(10, 8, 20, 0.75);
  --color-panel-contrast: rgba(20, 16, 41, 0.85);
  --color-overlay-soft: rgba(12, 10, 24, 0.5);
  --color-contrast-strong: #0a0814;
  
  --color-signal-green: #22c55e;
  --color-signal-amber: #f59e0b;
  --color-signal-red: #ef4444;
  --color-signal-blue: #3b82f6;

  --color-bg-body: var(--color-obsidian);
  --color-text-body: #ffffff;

  /* Original colors preserved and mapped */
  --color-primary: #4c73e4;
  --color-primary-light: #6d8cf0;
  --color-primary-dark: #3a5fc9;
  --color-secondary: #191435;
  --color-secondary-light: #191437;
  --color-secondary-dark: #100c21;
  --color-accent: #f26672;
  --color-accent-light: #e97391;
  --color-accent-dark: #e4587c;
  --color-accent-alt: #ed6071;
  --color-bg: #f8f9fa;
  --color-bg-alt: #e9ecef;
  --color-surface: #ffffff;
  --color-border: #bebdc3;
  --color-divider: #ededf0;
  --color-text: #100c21;
  --color-text-muted: #191436;
  --color-inverted-text: #ffffff;
  --color-hover: rgba(0, 0, 0, 0.05);
  --color-active: rgba(0, 0, 0, 0.1);
  --color-disabled: #bebdc3;
  --color-disabled-text: #bebdc3;
  --color-gradient-primary: linear-gradient(90deg, #4c73e4, #3a5fc9);
  --color-gradient-brand: linear-gradient(90deg, #4c73e4, #f26672);
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-overlay: rgba(0, 0, 0, 0.4);
  --color-success: #28a745;
  --color-success-light: #5cd27b;
  --color-success-dark: #1f7a33;
  --color-warning: #ffc107;
  --color-warning-light: #ffd85c;
  --color-warning-dark: #b38700;
  --color-danger: #f26672;
  --color-danger-light: #e97391;
  --color-danger-dark: #e4587c;
  --color-info: #17a2b8;
  --color-info-light: #5bd2de;
  --color-info-dark: #0f6e79;
}

[data-theme='light'] {
  --color-obsidian: #f8f9fa;
  --color-obsidian-deep: #ffffff;
  --color-obsidian-light: #dfe3f5;
  --color-glass: rgba(0, 0, 0, 0.03);
  --color-glass-border: rgba(0, 0, 0, 0.08);
  --color-glass-highlight: rgba(0, 0, 0, 0.05);
  --color-surface-muted: rgba(0, 0, 0, 0.02);
  --color-surface-elevated: #ffffff;
  --color-border-strong: rgba(0, 0, 0, 0.08);
  --color-text-soft: rgba(16, 12, 33, 0.65);
  --color-panel: rgba(255, 255, 255, 0.9);
  --color-panel-contrast: rgba(255, 255, 255, 0.95);
  --color-overlay-soft: rgba(15, 18, 45, 0.08);
  --color-contrast-strong: #0a0814;
  --color-text-body: #100c21;
  --color-bg-body: #f8f9fa;
  
  /* Light mode specific overrides */
  --color-primary: #4c73e4;
  --color-text: #100c21;
  --color-text-muted: #555b6e;
  --color-surface: #ffffff;
  --color-bg: #f8f9fa;
}

/* Dark theme adjustments */
[data-theme="dark"] {
  --color-primary: #6d8cf0;
  --color-primary-light: #8da5f5;
  --color-primary-dark: #4c73e4;
  --color-secondary: #1c1837;
  --color-secondary-light: #211b41;
  --color-secondary-dark: #141029;
  --color-accent: #f26672;
  --color-accent-light: #ff8e99;
  --color-accent-dark: #e4587c;
  --color-accent-alt: #ed6071;
  --color-bg: #141029;
  --color-bg-alt: #18152e;
  --color-surface: #211b41;
  --color-border: #32304c;
  --color-divider: #292546;
  --color-text: #edecef;
  --color-text-muted: #bebdc3;
  --color-inverted-text: #edecef;
  --color-hover: rgba(255, 255, 255, 0.05);
  --color-active: rgba(255, 255, 255, 0.1);
  --color-disabled: #32304c;
  --color-disabled-text: #8c8aa0;
  --color-gradient-primary: linear-gradient(90deg, #6d8cf0, #4c73e4);
  --color-gradient-brand: linear-gradient(90deg, #6d8cf0, #f26672);
  --color-shadow: rgba(0, 0, 0, 0.5);
  --color-overlay: rgba(20, 16, 41, 0.8);
  --color-success: #5cd27b;
  --color-success-light: #7fe39a;
  --color-success-dark: #2ea85a;
  --color-warning: #ffd85c;
  --color-warning-light: #ffe488;
  --color-warning-dark: #d7a926;
  --color-danger: #f26672;
  --color-danger-light: #ff8e99;
  --color-danger-dark: #e4587c;
  --color-info: #5bd2de;
  --color-info-light: #88e2eb;
  --color-info-dark: #2aa8b5;
  --color-surface-muted: rgba(255, 255, 255, 0.04);
  --color-surface-elevated: rgba(255, 255, 255, 0.08);
  --color-border-strong: rgba(255, 255, 255, 0.16);
  --color-text-soft: rgba(237, 236, 239, 0.75);
  --color-panel: rgba(10, 8, 20, 0.75);
  --color-panel-contrast: rgba(20, 16, 41, 0.85);
  --color-overlay-soft: rgba(12, 10, 24, 0.5);
}


@layer base {
  html, :host {
    text-size-adjust: 100%;
  }

  body {
    margin: 0;
    height: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    @apply antialiased overflow-x-hidden transition-colors duration-300;
    background-color: var(--color-bg-body);
    color: var(--color-text-body);
  }

  /* Prevent text selection globally except for inputs */
  * {
    -webkit-user-select: var(--user-select-global, text);
    -moz-user-select: var(--user-select-global, text);
    -ms-user-select: var(--user-select-global, text);
    user-select: var(--user-select-global, text);
  }

  input, textarea, [contenteditable="true"] {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }

  /* Force override dark mode radial gradient in light mode */
  [data-theme='light'] body {
    background-image: none;
    background-color: #f8f9fa;
    color: #100c21;
  }
  
  /* Only apply the radial gradient in dark mode or default */
  [data-theme='dark'] body, body:not([data-theme='light']) {
    background-image: radial-gradient(circle at 50% 0%, #211b41 0%, #141029 40%);
  }
}

@layer utilities {
  .glass-panel {
    backdrop-filter: blur(20px);
    background-color: var(--color-glass);
    border: 1px solid var(--color-glass-border);
    border-radius: 1rem;
  }
  
  .glass-panel-hover {
    transition: background-color 0.2s ease, border-color 0.2s ease;
    background-color: var(--color-glass);
    border-color: var(--color-glass-border);
  }
  .glass-panel-hover:hover {
    background-color: var(--color-glass-highlight);
    border-color: var(--color-glass-border);
  }

  [data-theme='light'] .glass-panel-hover {
    background-color: var(--color-glass);
    border-color: var(--color-glass-border);
  }

  .text-gradient-primary {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-white to-white/70;
  }

  [data-theme='light'] .text-gradient-primary {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary to-primary-dark;
  }

  .noise-overlay {
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 50;
    opacity: 0.4;
  }
  
  [data-theme='light'] .noise-overlay {
    opacity: 0.15;
    filter: invert(1);
  }

  .bubble-button {
    @apply focus:outline-none focus:ring-0 focus:ring-offset-0 active:outline-none active:ring-0;
  }

  .text-default {
    color: var(--color-text);
  }

  .text-soft {
    color: var(--color-text-soft);
  }

  .bg-surface {
    background-color: var(--color-surface);
  }

  .bg-surface-muted {
    background-color: var(--color-surface-muted);
  }

  .bg-surface-elevated {
    background-color: var(--color-surface-elevated);
  }

  .border-default {
    border-color: var(--color-border);
  }

  .border-strong {
    border-color: var(--color-border-strong);
  }

  .bg-glass {
    background-color: var(--color-glass);
  }

  .border-glass {
    border-color: var(--color-glass-border);
  }

  /* Hide scrollbar utilities */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
    margin-top: 16px;
    margin-bottom: 16px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 3px;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: rgba(255, 255, 255, 0.3);
  }

  .mobile-gradient-overlay {
    background: linear-gradient(to top, rgba(255, 255, 255, 0.6) 0%, rgba(255, 255, 255, 0.6) 20%, transparent 100%);
  }
}
